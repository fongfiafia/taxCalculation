<!-- 添加页面标题和描述 -->
<view class="page-title" aria-label="2024年工资计算器：个税、社保、公积金、年终奖计算" style="display:none;">
  <text>2024年工资计算器</text>
</view>
<view class="page-description" aria-label="轻松计算个人所得税、社保、公积金、年终奖、离职补偿等" style="display:none;">
  <text>轻松计算个人所得税、社保、公积金、年终奖、离职补偿等</text>
</view>

<form>
	<view class="cu-form-group margin-top">
		<view class="title">税前工资</view>
		<input placeholder="请输入税前工资" bindinput="shuiQianSalary"></input>
		<text class="text-blue" bindtap="showPeriodPicker">当前期数: {{currentPeriod}}</text>
	</view>
  <view class="cu-form-group">
    <view class="title">五险一金</view>
    <input placeholder="五险一金个人缴纳部分" value="{{wuXianYiJin}}" bindinput="wuXianYiJinInput"></input>
    <text class="text-blue" bindtap="showBaseModal">修改基数</text>
  </view>
  <view class="cu-form-group">
		<view class="title">专项附加扣除</view>
		<input placeholder="请输入专项附加扣除金额" bindinput="specialDecre"></input>
		<icon type="info_circle"  bindtap="detail" size="22" />
	</view>
</form>

<view class="padding-lr bg-white">
	<view class="text-left padding" style="white-space:pre-line">剩余计算次数： {{availableCountTimes}}次
	<text>观看广告增加<text class="text-red">10次</text>免费计算</text></view>
</view>

<view class="flex justify-center bg-white">
  <button class="cu-btn round circle lg bg-green" bindtap="calculate" hidden="{{hideCalculate}}">计算</button>
<button class="cu-btn round circle lg bg-green" bindtap="watchAdvert" hidden="{{hideAdvert}}">观看广告</button>
</view>

<view class="adContainer">
  <ad unit-id="adunit-210099d71f8acc47"></ad>
</view>

<!-- 添加弹窗 -->
<view class="cu-modal {{showBaseModal?'show':''}}">
  <view class="cu-dialog">
    <view class="cu-bar bg-white justify-end">
      <view class="content">修改基数</view>
      <view class="action" bindtap="hideBaseModal">
        <text class="cuIcon-close text-red"></text>
      </view>
    </view>
    <view class="padding-xl">
      <view class="cu-form-group">
        <view class="title">社保缴纳基数</view>
        <input type="digit" placeholder="社保缴纳基数" bindinput="sheBaoBaseInput" value="{{sheBaoBase}}"></input>
      </view>
      <view class="cu-form-group">
        <view class="title">公积金缴纳基数</view>
        <input type="digit" placeholder="公积金缴纳基数" bindinput="gongJiJinBaseInput" value="{{gongJiJinBase}}"></input>
      </view>
      <view class="cu-form-group">
        <view class="title">公积金缴纳比例(%)</view>
        <input type="digit" placeholder="公积金缴纳比例" bindinput="gongJiJinRateInput" value="{{gongJiJinRate}}"></input>
      </view>
    </view>
    <view class="cu-bar bg-white justify-end">
      <view class="action">
        <button class="cu-btn line-green text-green" bindtap="hideBaseModal">取消</button>
        <button class="cu-btn bg-green margin-left" bindtap="confirmBaseChange">确定</button>
      </view>
    </view>
  </view>
</view>

<!-- 添加期数选择器 -->
<view class="cu-modal {{showPeriodPicker?'show':''}}">
  <view class="cu-dialog">
    <view class="cu-bar bg-white justify-end">
      <view class="content">选择期数</view>
      <view class="action" bindtap="hidePeriodPicker">
        <text class="cuIcon-close text-red"></text>
      </view>
    </view>
    <view class="padding-xl">
      <picker-view indicator-style="height: 50px;" style="width: 100%; height: 200px;" value="{{[currentPeriod-1]}}" bindchange="periodChange">
        <picker-view-column>
          <view wx:for="{{12}}" wx:key="*this" style="line-height: 50px; text-align: center;">{{item + 1}}期</view>
        </picker-view-column>
      </picker-view>
    </view>
    <view class="cu-bar bg-white justify-end">
      <view class="action">
        <button class="cu-btn line-green text-green" bindtap="hidePeriodPicker">取消</button>
        <button class="cu-btn bg-green margin-left" bindtap="confirmPeriodChange">确定</button>
      </view>
    </view>
  </view>
</view>

<!-- 在计算按钮下方添加以下内容 -->
<view class="calculation-result" hidden="{{hideview}}">
  <view class="cu-list menu sm-border card-menu margin-top">
    <view class="cu-item">
      <view class="content">
        <text>累计应纳税所得额</text>
      </view>
      <view class="action">
        <text class="text-grey text-sm">{{accumulatedTaxableIncome}}元</text>
      </view>
    </view>
    <view class="cu-item">
      <view class="content">
        <text>适用税率</text>
      </view>
      <view class="action">
        <text class="text-grey text-sm">{{applicableRate}}%</text>
      </view>
    </view>
    <view class="cu-item">
      <view class="content">
        <text>速算扣除数</text>
      </view>
      <view class="action">
        <text class="text-grey text-sm">{{quickDeduction}}元</text>
      </view>
    </view>
    <view class="cu-item">
      <view class="content">
        <text>累计已缴纳税额</text>
      </view>
      <view class="action">
        <text class="text-grey text-sm">{{accumulatedTax}}元</text>
      </view>
    </view>
    <view class="cu-item">
      <view class="content">
        <text>本月应缴个税</text>
      </view>
      <view class="action">
        <text class="text-red text-sm">{{taxResult}}元</text>
      </view>
    </view>
    <view class="cu-item">
      <view class="content">
        <text>本月到手工</text>
      </view>
      <view class="action">
        <text class="text-green text-sm">{{result}}元</text>
      </view>
    </view>
  </view>
</view>

<view class="cu-modal {{modalName=='DialogModal1'?'show':''}}">
  <view class="cu-dialog">
    <view class="cu-bar bg-white justify-end">
      <view class="content">专项附加扣除说明</view>
      <view class="action" bindtap="hideModal">
        <text class="cuIcon-close text-red"></text>
      </view>
    </view>
    <view class="padding-xl modal-content">
      {{modalContent}}
    </view>
  </view>
</view>

<!-- 添加关键词和描述 -->
<view class="seo-keywords" style="display:none;">
  2024年新工资计算器,个人所得税计算,社保计算,公积金计算,年终奖计算,离职补偿计算,
  灵活就业社保,退休年龄查询,劳务报酬计算,房贷计算器
</view>
<view class="seo-description" style="display:none;">
  2024年最新工资计算器，支持个人所得税、社保、公积金、年终奖、离职补偿等多种计��功能。
  适用于各类就业形式，包括灵活就业人员社保计算。还可查询退休年龄、计算劳务报酬税费和房贷。
  一站式解决您的薪资相关问题。
</view>
